<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Rails Chat" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Rails Chat">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <!-- Icons -->
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <!-- App assets -->
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body
    style="
      margin: 0;
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
      background: linear-gradient(to bottom, #cfe9ff 0%, #eaf6ff 45%, #ffffff 100%);
      color: #0f2a44;
    "
  >
  <nav style="
  width: 100%;
  background: linear-gradient(to right, #1e6fb9, #1e90ff);
  padding: 0.75rem 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 4px 12px rgba(30, 111, 185, 0.25);
  color: white;
  font-weight: 600;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
">
  <!-- Logo / App Name -->
  <div style="font-size: 1.25rem;">
    ✈️ Rails Flight Control
  </div>

  <!-- Links -->
  <div style="display: flex; gap: 0.75rem; align-items: center;">
    <% if user_signed_in? %>
      <span style="font-size: 0.95rem;">Welcome, <%= current_user.email %></span>


     

      <%= button_to "Log out", destroy_user_session_path, method: :delete,
        style: "
          padding: 0.45rem 0.9rem;
          border-radius: 999px;
          background: #e5533d;
          color: white;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        ",
        onmouseover: "this.style.background='#ff6b5c'",
        onmouseout: "this.style.background='#e5533d'"
      %>

    <% else %>
      <%= link_to "Sign in", new_user_session_path,
        style: "
          padding: 0.45rem 0.9rem;
          border-radius: 999px;
          background: rgba(255,255,255,0.2);
          color: white;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        ",
        onmouseover: "this.style.background='rgba(255,255,255,0.35)'",
        onmouseout: "this.style.background='rgba(255,255,255,0.2)'"
      %>

      <%= link_to "Sign up", new_user_registration_path,
        style: "
          padding: 0.45rem 0.9rem;
          border-radius: 999px;
          background: #1e90ff;
          color: white;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        ",
        onmouseover: "this.style.background='#1e6fb9'",
        onmouseout: "this.style.background='#1e90ff'"
      %>
    <% end %>
  </div>
</nav>

    <!-- Sky container -->
    <main
      style="
        max-width: 960px;
        margin: 7rem auto 0 auto;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 16px;
        box-shadow: 0 20px 40px rgba(15, 42, 68, 0.15);
        border: 1px solid rgba(180, 210, 235, 0.6);
        position: relative;
      "
    >
      <!-- Airplane accent -->
      <div
        style="
          position: absolute;
          top: -18px;
          left: 24px;
          font-size: 22px;
          color: #1e6fb9;
          background: white;
          padding: 6px 10px;
          border-radius: 50%;
          box-shadow: 0 6px 14px rgba(0,0,0,0.15);
        "
        aria-hidden="true"
      >
        ✈️
      </div>

      <!-- Notice -->
      <% if notice.present? %>
        <p
          class="notice"
          style="
            margin: 0;
            padding: 0.75rem 1rem;
            background: #e6f4ff;
            border-left: 4px solid #1e90ff;
            border-radius: 8px;
            color: #0b3a66;
            font-size: 0.95rem;
          "
        >
          <%= notice %>
        </p>
      <% end %>

      <!-- Alert -->
      <% if alert.present? %>
        <p
          class="alert"
          style="
            margin: 0;
            padding: 0.75rem 1rem;
            background: #fff0f0;
            border-left: 4px solid #e5533d;
            border-radius: 8px;
            color: #7a1f12;
            font-size: 0.95rem;
          "
        >
          <%= alert %>
        </p>
      <% end %>

      <!-- Main content -->
      <div
        style="
          margin-top: 0.5rem;
          display: block;
        "
      >
        <%= yield %>
      </div>
    </main>
  </body>
</html>
